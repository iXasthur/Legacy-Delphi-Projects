program Lab3;

{$APPTYPE CONSOLE}

{$R *.res}


uses
  System.SysUtils;



procedure calcF2(x, accuracy:real);
var
  check: boolean;
  i,n,k:integer;
  y:real;
begin
  check:=true;
  k:=1;
  y:=0;

  while check=true do
    begin
      if x<=0+0.05/1000 then
        begin
          y:= y - exp(k*ln(-x))/k;
        end
          else
            begin
              y:= -y - exp(k*ln(x))/k;
            end;



      if (abs(exp(k*ln(abs(x)))/k - exp((k+2)*ln(abs(x)))/(k+1)))<accuracy then
        check:=false;

      k:=k+1;
    end;




  write(y:6:3,' | ',(k-1):3,' | ':5);
end;











var
  i: integer;
  accuracy,x : real;

begin
  accuracy:=0.01;
  x:= -0.6;
  i:=1;

  writeln('---------------------------------------------------------------------');
  writeln('|       |        |     e=0.01     |    e=0.001     |    e=0.0001    |');
  writeln('|   x   |  f1(x) |---------------------------------------------------');
  writeln('|       |        |  f2(x) |   N   |  f2(x) |   N   |  f2(x) |   N   |');
  writeln('---------------------------------------------------------------------');
  while i<=20 do
    begin
    //write(x:6:3);
    write('| ',x:5:2,' | ',ln(1+x):6:3,' | ');
    calcF2(x,accuracy);
    calcF2(x,accuracy/10);
    calcF2(x,accuracy/100);


    writeln;
    x:=x+0.05;
    i:=i+1;
    end;
  writeln('---------------------------------------------------------------------');


  readln;
end.
